{"id":"623788afb292c","type":"codeSurfer","steps":[{"fileName":"app.jsx","showNumbers":true,"title":"A kontextussal setter function-t is le lehet juttatni a komponens hierarchia alsóbb részeibe","focus":"1:31","label":"","content":"const SzotarKontextus = React.createContext();\nconst NyelvKontextus = React.createContext();\nconst SetNyelvKontextus = React.createContext();\n\nfunction App() {\n  const [language, setLanguage] = React.useState('hun');\n  const [dictionary, setDictionary] = React.useState({});\n\n  React.useEffect(() => {\n    fetch(`https:\/\/kodbazis.hu\/api\/dictionary\/${language}`)\n     .then(res => res.json())\n     .then(szotar => {\n      setDictionary(szotar)\n    });\n  }, [language]);\n\n  if (!dictionary) {\n    return \"Betöltés...\"\n  }\n\n  return (\n    <div className=\"container\">\n      <SzotarKontextus.Provider value={dictionary}>\n        <NyelvKontextus.Provider value={language}>\n          <SetNyelvKontextus.Provider value={setLanguage}>\n            <Dashboard \/>\n          <\/SetNyelvKontextus.Provider>\n        <\/NyelvKontextus.Provider>\n      <\/SzotarKontextus.Provider>\n    <\/div>\n  );\n}\n\nfunction Dashboard() {\n  return (\n    <div className=\"bg-white\" style={{ borderRadius: 42, border: \"10px solid rgb(34 34 34)\" }}>\n      <NyelvValasztoForm \/>\n      <div className=\"row w-100 m-0\">\n        <Udvozles \/>\n        <Tartalom \/>\n      <\/div>\n      <div className=\"row w-100 m-0\">\n        <Footer \/>\n      <\/div>\n    <\/div>)\n}\n\n\nfunction NyelvValasztoForm() {\n  const dictionary = React.useContext(SzotarKontextus);\n  const language = React.useContext(NyelvKontextus);\n  const setLanguage = React.useContext(SetNyelvKontextus);\n  return (\n    <nav className=\"navbar navbar-light bg-light p-0\" style={{ borderRadius: 42 }}>\n      <label className=\"w-100 p-3\">\n        <h3>{dictionary.changeLanguage}:<\/h3>\n        <select\n          onChange={(e) => {\n            setLanguage(e.target.value);\n          }}\n          defaultValue={language}\n          className=\"form-control\"\n        >\n          <option value=\"hun\">Magyar<\/option>\n          <option value=\"en\">Angol<\/option>\n          <option value=\"spa\">Spanyol<\/option>\n        <\/select>\n      <\/label>\n    <\/nav>\n  );\n}\n\nfunction Udvozles() {\n  const dictionary = React.useContext(SzotarKontextus);\n  return (\n    <div className=\"col-6 bg-warning jumbotron m-0 rounded-0\" style={{ minHeight: 300 }}>\n      <h1>{dictionary.greetings}!<\/h1>\n    <\/div>\n  );\n}\n\nfunction Tartalom() {\n  const dictionary = React.useContext(SzotarKontextus);\n  return (\n    <div className=\"col-6 bg-danger jumbotron m-0 rounded-0\">\n      <h1>{dictionary.content}<\/h1>\n    <\/div>\n  );\n}\n\nfunction Footer() {\n  const dictionary = React.useContext(SzotarKontextus);\n  return (\n    <div className=\"col-12 bg-dark jumbotron rounded-0 text-light\" style={{ minHeight: 300 }}>\n      <h1 className=\"text-center\">{dictionary.goodLuck}<\/h1>\n    <\/div>\n  );\n}\n\nReactDOM.render(<App \/>, document.getElementById(\"app-container\"));\n"},{"fileName":"app.jsx","showNumbers":true,"title":"A kontextussal setter function-t is le lehet juttatni a komponens hierarchia alsóbb részeibe","focus":"3,25,27","label":"","content":""},{"fileName":"app.jsx","showNumbers":true,"title":"A kontextus saját komponensbe is kiszervezhető, az alábbi módszerrel","focus":"1:25","label":"Külön komponens a kontextusnak","content":"const NyelviMukodesContext = React.createContext();\nfunction NyelvKontextusEsState(props) {\n  const [language, setLanguage] = React.useState('hun');\n  const [dictionary, setDictionary] = React.useState({});\n\n  React.useEffect(() => {\n    fetch(`https:\/\/kodbazis.hu\/api\/dictionary\/${language}`)\n     .then(res => res.json())\n     .then(szotar => {\n      setDictionary(szotar)\n    });\n  }, [language]);\n\n  if (!dictionary) {\n    return \"Betöltés...\"\n  }\n\n  const value = {\n    languageStore: [language, setLanguage],\n    dictionaryStore: [dictionary, setDictionary]\n  };\n\n  return <NyelviMukodesContext.Provider children={props.children} value={value}>\n  <\/NyelviMukodesContext.Provider>\n}\n\nfunction App() {\n  return (\n    <div className=\"container\">\n      <NyelvKontextusEsState>\n        <Dashboard \/>\n      <\/NyelvKontextusEsState>\n    <\/div>\n  );\n}\n\nfunction Dashboard() {\n  return (\n    <div className=\"bg-white\" style={{ borderRadius: 42, border: \"10px solid rgb(34 34 34)\" }}>\n      <NyelvValasztoForm \/>\n      <div className=\"row w-100 m-0\">\n        <Udvozles \/>\n        <Tartalom \/>\n      <\/div>\n      <div className=\"row w-100 m-0\">\n        <Footer \/>\n      <\/div>\n    <\/div>)\n}\n\n\nfunction NyelvValasztoForm() {\n  const {\n    languageStore,\n    dictionaryStore\n  } = React.useContext(NyelviMukodesContext);\n\n  const [language, setLanguage] = languageStore;\n  const [dictionary, setDictionary] = dictionaryStore;\n\n  return (\n    <nav className=\"navbar navbar-light bg-light p-0\" style={{ borderRadius: 42 }}>\n      <label className=\"w-100 p-3\">\n        <h3>{dictionary.changeLanguage}:<\/h3>\n        <select\n          onChange={(e) => {\n            setLanguage(e.target.value);\n          }}\n          defaultValue={language}\n          className=\"form-control\"\n        >\n          <option value=\"hun\">Magyar<\/option>\n          <option value=\"en\">Angol<\/option>\n          <option value=\"spa\">Spanyol<\/option>\n        <\/select>\n      <\/label>\n    <\/nav>\n  );\n}\n\nfunction Udvozles() {\n  const { dictionaryStore } = React.useContext(NyelviMukodesContext);\n  const [dictionary, setDictionary] = dictionaryStore;\n  return (\n    <div className=\"col-6 bg-warning jumbotron m-0 rounded-0\" style={{ minHeight: 300 }}>\n      <h1>{dictionary.greetings}!<\/h1>\n    <\/div>\n  );\n}\n\nfunction Tartalom() {\n  const { dictionaryStore } = React.useContext(NyelviMukodesContext);\n  const [dictionary, setDictionary] = dictionaryStore;\n  return (\n    <div className=\"col-6 bg-danger jumbotron m-0 rounded-0\">\n      <h1>{dictionary.content}<\/h1>\n    <\/div>\n  );\n}\n\nfunction Footer() {\n  const { dictionaryStore } = React.useContext(NyelviMukodesContext);\n  const [dictionary, setDictionary] = dictionaryStore;\n\n  return (\n    <div className=\"col-12 bg-dark jumbotron rounded-0 text-light\" style={{ minHeight: 300 }}>\n      <h1 className=\"text-center\">{dictionary.goodLuck}<\/h1>\n    <\/div>\n  );\n}\n\nReactDOM.render(<App \/>, document.getElementById(\"app-container\"));\n"},{"fileName":"app.jsx","showNumbers":true,"title":"Ennek az az előnye, hogy egyetlen wrapper komponens lesz felelős az állapot nyilvántartásáért és a kontextus szolgáltatásáért","focus":"30,32","label":"","content":""}]}